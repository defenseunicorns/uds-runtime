# API AUTHENTICATION

API authentication has been implemented for when running locally, to prevent unauthorized access to the API from other processes. The API uses a token-based authentication system. The token is generated by the backend server and is used to authenticate the user. API authentication is enabled based on the value of the `VITE_API_AUTH` environment variable.

How does the frontend authenticate?
- Backend generates a token when it is started up and launches UDS Runtime in the browser.
    - i.e.(Runtime API connection: `http://127.0.0.1:8080/auth?token=r1hrQ9CcuZMKpY2egjsPrzmge3-YqfqOHjmlIOvdKrLGOLnHPgFWt3dzsdkHwzDdXQAfRRHiH~rbGEx7Jc7rTxTd4riCuqGH`)
- Frontend hits the /config endpoint to see if API authentication is enabled.
    - This is done so that the frontend can get the value of the `VITE_API_AUTH` environment variable at runtime.
- The frontend passes the token as a query parameter in the URL to the backend to authenticate the user.
    - When authenticated, the token is stored in `sessionStorage` and is valid for the duration of the page session.
    - The token is then used when creating the EventSources for the various views.
- Reauthentication is possible by hitting the /auth endpoint with the token as a query parameter.
